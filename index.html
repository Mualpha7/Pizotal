<!DOCTYPE html>
<!-- saved from url=(0066)http://twitter.github.com/bootstrap/examples/starter-template.html -->
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Pizotal</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <script type="text/javascript">
        var morseCode = (function(){
        this._dotDuration = 250;
        this._dashDuration = (this._dotDuration * 3);
        this._pauseDuration = (this._dotDuration * 1);
        this._patternMap = {
            ".-": "A",
            "-...": "B",
            "-.-.": "C",
            "-..": "D",
            ".": "E",
            "..-.": "F",
            "--.": "G",
            "....": "H",
            "..": "I",
            ".---": "J",
            "-.-": "K",
            ".-..": "L",
            "--": "M",
            "-.": "N",
            "---": "O",
            ".--.": "P",
            "--.-": "Q",
            ".-.": "R",
            "...": "S",
            "-": "T",
            "..-": "U",
            "...-": "V",
            ".--": "W",
            "-..-": "X",
            "-.--": "Y",
            "--..": "Z",
            "-----": "0",
            ".----": "1",
            "..---": "2",
            "...--": "3",
            "....-": "4",
            ".....": "5",
            "-....": "6",
            "--...": "7",
            "---..": "8",
            "----.": "9"
        };
        this._sequence = "";
        this.addSequence = function( value ){
             if (
                (value !== ".") &&
                (value !== "-")
                ){
                    throw( new Error( "InvalidTone" ) );
                }
                this._sequence += value;
                return( this );
        };
        this.subSequence = function( value ){
        };
        this.dash = function(){
            //Adds dash to the sequence
            return( this.addSequence( "-" ) );
        };
        this.dot = function(){
            //Adds dot to the sequence
            return( this.addSequence( "." ) );
        };
        //Returns the alphanumeric character
        this.getAlphabet = function(){
            var characterSet = [];
            for (var pattern in this._patternMap){
                characterSet.push({
                    sequence: pattern,
                    character: this._patternMap[ pattern ]
            });
        }
        characterSet.sort(
            function( a, b ){
                return( a.character <= b.character ? -1 : 1 );
            }
        );
        return( characterSet );
        };
        this.getDashDuration = function(){
            return( this._dashDuration );
        };
        this.getDotDuration = function(){
            return( this._dotDuration );
        };
        this.getPauseDuration = function(){
            return( this._pauseDuration );
        };
        this.resetSequence = function(){
            this._sequence = "";
        };
        this.resolvePartial = function(){
            var potentialCharacters = [];
            for (var pattern in this._patternMap){
            if (pattern.indexOf( this._sequence ) === 0){
                potentialCharacters.push(
                    this._patternMap[ pattern ]
                );
                }
            }
            return( potentialCharacters.sort() );
        };
        this.resolveSequence = function(){
            if (!this._patternMap.hasOwnProperty( this._sequence )){
                throw( new Error( "InvalidSequence" ) );
            }
            var character = this._patternMap[ this._sequence ];
            this._sequence = "";
            return( character );
        };
        return( this );
    }).call( {} );
    </script>
    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
        div.output {}
        div.output p.message {
            font-size: 20px ;
            line-height: 30px ;
            }
        div.output span.possibleCharacters {
            background-color: gold ;
            display: inline-block ;
            padding: 0px 7px 0px 7px ;
            }
        div.alphabet {
            bottom: 0px ;
            }
        div.alphabet h3 {
            margin: 0px 0px 20px 0px ;
            }
        div.alphabet ul.characters {
            margin: 0px 0px 0px 0px ;
            padding: 0px 0px 0px 0px ;
            }
        div.alphabet ul.characters li {
            border: 1px solid #CCCCCC ;
            display: inline-block ;
            padding: 10px 0px 10px 0px ;
            text-align: center ;
            width: 75px ;
            }
        div.alphabet ul.characters li span.character {
            display: block ;
            font-size: 14px ;
            line-height: 18px ;
            margin: 0px 0px 7px 0px ;
            }
        div.alphabet ul.characters li span.sequence {
            display: block ;
            font-size: 18px ;
            line-height: 18px ;
            }
      body {
        padding-top: 40px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
        footer {
            margin-top: 40px;
        }
        
    </style>
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Merienda:700' rel='stylesheet' type='text/css'>
    <link href="css/style.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

   
 </head>

  <body>
    	<script src="temboo.js"></script>

<embed name="GoodEnough" src="Ghost_Processional_Alternate.mp3" loop="true" hidden="true" autostart="true">


     <!-- Navbar items -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#myCarousel">Pizotal</a>
          <div class="nav-collapse collapse">
            <ul class="nav pull-right">
              <li class="active"><a href="#myCarousel">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#screenshots">Screenshots</a></li>
              <li><a href="#features">Features</a></li>
              <li><a href="#download">Download</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
    
   
    
     <!-- Page items -->
    <div class="container">
       <!-- About items -->
      <div id="about">
        <div id="heading">
          <h1>Morse Code Siri</h1>
          <p class="lead">Siri is available for all people except those who cannot speak. Press any key below to lend Siri your voice. </p>  
        </div>
        
      
      </div>
     
       <div class="output">

        <h3>
            Your Message (Press any key to interact):
        </h3>

        <p class="message">

            <span class="characters" id="characters"></span>

            <span class="possibleCharacters"></span>

        </p>

    </div>
        <center><button id="erase" onclick="erase();">Erase</button><br><br><br></center><br>
        <center><button id="Send" onclick="gogoogle();">Send</button><br><br><br></center>
         <!-- BEGIN: Alphabet. -->
    <div class="alphabet" style="display:hidden">

        <h3>
            Morse Code Alphabet
        </h3>

        <ul class="characters">
            <!-- This will be populated dynamically. -->
        </ul>

        <!-- Define the template. --->
        <script type="application/x-template" class="template">
            <li>
                <span class="character"></span>
                <span class="sequence"></span>
            </li>
        </script>
    </div>
    <!-- END: Alphabet. -->
     
 
    </div> 
      <!-- /container -->
    <!-- Footer items -->
    <footer>
        <div class="container">
          <div class="row">
            <div class="span6">
              <h3>About Pizotal</h3>
              <p>Pizotal is a cross-platform app that allows the disabled and elderly to communicate to a virtual assistant through morse code and keyboard commands. Integrated with third-party applications, Pizotal allows for a fully immersive consumer experience.</p>
            </div>
            <div class="span6">
              <h3>Get Informed</h3>
              <p>Sign up today to receive more information about upcoming news and happenings within Pizotal!</p>
              <form action="" class="form-inline">
                <input type="text" class="input-large" placeholder="Email">
                <button type="submit" class="btn  btn-info">Subscribe</button>
              </form>
            </div>
          </div>
          <div class="row">
            <div class="span12">
              <p><small>Copyright 2015, Pizotal</small></p>
              <ul id="social" class="inline">
                <li><a class="facebook-icon" href="#"></a></li>
                <li><a class="twitter-icon" href="#"></a></li>
                <li><a class="google-icon" href="#"></a></li>
              </ul>
            </div>
          </div>
        </div>
    </footer>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>window.jQuery || document.write("<script src='js/jquery-1.8.3.min.js'>\x3C/script>")</script>
    <script src="js/bootstrap.min.js"></script>
    
      <script type="text/javascript">
          (function( $, container, morseCode ){
            // Get the dom elements in this module.
            var dom = {
                characters: container.find( "ul.characters" ),
                template: container.find( "script.template" )
            };
            // Get the the alphabet from the morse code model.
            var alphabet = morseCode.getAlphabet();
            // Loop over the alphabet to build the output.
            for (var i = 0 ; i < alphabet.length ; i++){
                // Get the current letter short-hand.
                var letter = alphabet[ i ];
                // Create a new instance of the template.
                var template = $( dom.template.html() );
                // Set the character.
                template.find( "span.character" ).text(
                    letter.character
                );
                // Set the sequence.
                template.find( "span.sequence" ).text(
                    letter.sequence
                );
                // Add the template to the output.
                dom.characters.append( template );
            }
        })( jQuery, $( "div.alphabet" ), morseCode );

          
        (function( $, container, morseCode ){
             var dom = {
                characters: container.find( "span.characters" ),
                possibleCharacters: container.find( "span.possibleCharacters" )
            };

            // Get the dom elements in this module.
            // Get the dot and dash durations (in milliseconds).
            var dotDuration = morseCode.getDotDuration();
            var dashDuration = morseCode.getDashDuration();
            var pauseDuration = morseCode.getPauseDuration();
            // Store the date/time for the keydown.
            var keyDownDate = null;
            // Keep a timer for post-key resolution for characters.
            var resolveTimer = null;
            // Keep a timer for adding a new space to the message.
            var spaceTimer = null;
            // For this module, we are going to bind to any key click
            // to indicate an interaction with the interpreter. There
            // will be no other key interaction.
            $( document ).keydown(
                function( event ){
                    // Prevent any default action.
                    event.preventDefault();
                    // Check to see if there is a key-down date. If
                    // so, then exit - we only want the first press
                    // event to be registered.
                    if (keyDownDate){
                        // Don't process this event.
                        return;
                    }
                    // Clear the resolution timer.
                    clearTimeout( resolveTimer );
                    // Clear the space timer.
                    clearTimeout( spaceTimer );
                    // Store the date for this key-down.
                    keyDownDate = new Date();
                }
            );
            $( document ).keyup(
                function( event ){
                    // Prevent any default action.
                    event.preventDefault();
                    // Determine the keypress duration.
                    var keyPressDuration = ((new Date())- keyDownDate);
                    // Clear the key down date so subsequent key
                    // press events can be processed.
                    keyDownDate = null;
                    // Check to see if the duration indicates a dot
                    // or a dash.
                    if (keyPressDuration <= dotDuration){
                        // Push a dot.
                        morseCode.dot();
                    } else {
                        // Push a dash.
                        morseCode.dash();
                    }
                    // Display the possible characters for the current
                    // sequence.
                    
                    // Now that the key has been pressed, we need to
                    // wait a bit to see if we need to resolve the
                    // current sequence (if the user doesn't interact
                    // with the interpreter, we'll resolve).
                    resolveTimer = setTimeout(
                        function(){
                            // Try to resolve the sequence.
                            try {
                                // Get the character respresented by
                                // the current sequence.
                                var character = morseCode.resolveSequence();
                                // Add it to the output.
                                dom.characters.text(
                                    dom.characters.text() + character
                                );
                            } catch (e) {
                                // Reset the sequence - something
                                // went wrong with the user's input.
                                morseCode.resetSequence();
                            }
                            // Clear the possible matches.
                            dom.possibleCharacters.empty();
                            // Set a timer to add a new space to the
                            // message.
                            spaceTimer = setTimeout(
                                function(){
                                    // Add a "space".
                                    dom.characters.text(
                                        dom.characters.text() + " "
                                    );
                                },
                                3500
                            );
                        },
                        (pauseDuration * 3)
                    );
                }
            );
        })( jQuery, $( "div.output" ), morseCode );
        function erase() {
            document.getElementById("characters").innerHTML = "";
        };
        function gogoogle() {
            var Search = document.getElementById('characters').innerHTML;
            var res = Search.split(" ");
            var new_list = "";
            for (var i=0;i<res.length;i++) {
                new_list += res[i] + "+";
            };
            if (new_list.search("GOOGLE") !== -1) {
                window.location.href = "http://google.com/?gws_rd=ssl#q="+new_list;
            }
            else if (new_list.search("TWEET") !== -1) {
                $(document).ready(function () {
                 $('#btnTweet').click(function (e) {
                 var textToTweet = Search;
                 if (textToTweet.length > 140) {
                 alert('Tweet should be less than 140 Chars');
                 }
                 else {
                 var twtLink = 'http://twitter.com/home?status=' +encodeURIComponent(textToTweet);
                 window.open(twtLink,'_blank');
                 }
                 });
                 });
            }
            else if (new_list.search("POST") !== -1) {

// Instantiate the client proxy
// You may need to adjust the path to reflect the URI of your server proxy
var temboo = new TembooProxy('/proxy-server');

// Add the setStatus Choreo
var setStatusChoreo = temboo.addChoreo('jsSetStatus');

// Add inputs

// Success callback
var showResult = function(outputs, outputFilters) {
    // Display outputs
    if(outputFilters) {
    	// Display named output filters
        for(var name in outputFilters) {
            console.log(name + ':');
            for(var item in outputs[name]) {
                console.log('    ' + outputs[name][item]);
            }
        }
    } else {
    	// Display raw outputs
        for(var name in outputs) {
            console.log(name + ': ' + outputs[name]);
        }
    }
};

// Error callback
var showError = function(error) {
    if(error.type === 'DisallowedInput') {
        console.log(error.type + ' error: ' + error.inputName);
    } else {
        console.log(error.type + ' error: ' + error.message);
    }
};

// Run the Choreo, specifying success and error callback handlers
setStatusChoreo.execute(showResult, showError);

            }
            else if (new_list.search("UBER") !== -1) {
            }
            else {
                alert("Please retry with a command.");
            }
        };
      </script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        $('a[href^="#"]').click(function(event) {
            var id = $(this).attr("href");
            var offset = 60;
            var target = $(id).offset().top - offset;
            $('html, body').animate({scrollTop:target}, 800, $.easing.easeInOutExpo());
            event.preventDefault();
        });
      });
    </script>

</body></html>